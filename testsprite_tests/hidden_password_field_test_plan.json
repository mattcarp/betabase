[
  {
    "id": "TC_HPF_001",
    "title": "Hidden Password Field Test Account Authentication",
    "description": "Verify that the test account (claude@test.siam.ai) can authenticate using the hidden password field for automated testing",
    "category": "functional",
    "priority": "Critical",
    "test_data": {
      "test_email": "claude@test.siam.ai",
      "test_password": "4@9XMPfE9B$"
    },
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page at https://thebetabase.com"
      },
      {
        "type": "action",
        "description": "Fill email field with 'claude@test.siam.ai'"
      },
      {
        "type": "action",
        "description": "Fill hidden password field with data-test-id='login-password-hidden' with test password"
      },
      {
        "type": "assertion",
        "description": "Verify the visible password field appears automatically"
      },
      {
        "type": "action",
        "description": "Submit the login form"
      },
      {
        "type": "assertion",
        "description": "Verify successful authentication and redirect to main application"
      }
    ]
  },
  {
    "id": "TC_HPF_002",
    "title": "Hidden Field Does Not Interfere with Regular Users",
    "description": "Verify that the hidden password field does not affect normal user authentication flow",
    "category": "functional",
    "priority": "High",
    "test_data": {
      "regular_email": "john.doe@sonymusic.com"
    },
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page"
      },
      {
        "type": "action",
        "description": "Enter a regular @sonymusic.com email address"
      },
      {
        "type": "assertion",
        "description": "Verify the hidden password field remains invisible (display: none)"
      },
      {
        "type": "assertion",
        "description": "Verify the visible password field does NOT appear"
      },
      {
        "type": "assertion",
        "description": "Verify the submit button shows 'Send Magic Link' text"
      },
      {
        "type": "action",
        "description": "Click submit button"
      },
      {
        "type": "assertion",
        "description": "Verify magic link flow proceeds normally"
      }
    ]
  },
  {
    "id": "TC_HPF_003",
    "title": "Password Field Synchronization",
    "description": "Verify that the hidden and visible password fields synchronize correctly for test account",
    "category": "functional",
    "priority": "Medium",
    "test_data": {
      "test_email": "claude@test.siam.ai",
      "test_password": "4@9XMPfE9B$"
    },
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page"
      },
      {
        "type": "action",
        "description": "Enter 'claude@test.siam.ai' in email field"
      },
      {
        "type": "assertion",
        "description": "Verify visible password field appears with data-test-id='login-password'"
      },
      {
        "type": "action",
        "description": "Fill the hidden password field programmatically"
      },
      {
        "type": "assertion",
        "description": "Verify the visible password field value matches the hidden field value"
      },
      {
        "type": "assertion",
        "description": "Verify submit button text changes to 'Sign In'"
      }
    ]
  },
  {
    "id": "TC_HPF_004",
    "title": "Incorrect Password Handling",
    "description": "Verify that incorrect passwords are properly rejected for test account",
    "category": "error handling",
    "priority": "High",
    "test_data": {
      "test_email": "claude@test.siam.ai",
      "wrong_password": "wrongpassword123"
    },
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the login page"
      },
      {
        "type": "action",
        "description": "Enter test email 'claude@test.siam.ai'"
      },
      {
        "type": "action",
        "description": "Enter incorrect password in the password field"
      },
      {
        "type": "action",
        "description": "Submit the form"
      },
      {
        "type": "assertion",
        "description": "Verify error message appears indicating authentication failure"
      },
      {
        "type": "assertion",
        "description": "Verify user remains on login page"
      }
    ]
  },
  {
    "id": "TC_HPF_005",
    "title": "Playwright Helper Function Integration",
    "description": "Verify that the loginAsTestUser helper function works correctly",
    "category": "integration",
    "priority": "Medium",
    "test_code": "import { loginAsTestUser } from './tests/helpers/auth';",
    "steps": [
      {
        "type": "action",
        "description": "Import the loginAsTestUser helper function"
      },
      {
        "type": "action",
        "description": "Call loginAsTestUser(page) in a Playwright test"
      },
      {
        "type": "assertion",
        "description": "Verify the function navigates to login page"
      },
      {
        "type": "assertion",
        "description": "Verify the function fills credentials automatically"
      },
      {
        "type": "assertion",
        "description": "Verify the function submits the form"
      },
      {
        "type": "assertion",
        "description": "Verify successful authentication within 5 seconds"
      }
    ]
  },
  {
    "id": "TC_HPF_006",
    "title": "Hidden Field Security Attributes",
    "description": "Verify that the hidden password field has proper security attributes",
    "category": "security",
    "priority": "Low",
    "steps": [
      {
        "type": "action",
        "description": "Inspect the hidden password field element"
      },
      {
        "type": "assertion",
        "description": "Verify field has type='password'"
      },
      {
        "type": "assertion",
        "description": "Verify field has aria-hidden='true'"
      },
      {
        "type": "assertion",
        "description": "Verify field has tabIndex='-1' to prevent tab navigation"
      },
      {
        "type": "assertion",
        "description": "Verify field has style='display: none'"
      },
      {
        "type": "assertion",
        "description": "Verify field has autocomplete='current-password'"
      }
    ]
  }
]
