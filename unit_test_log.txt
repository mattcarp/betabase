
> siam@0.24.83 test:unit
> vitest run --exclude tests/integration/**


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/Users/matt/Documents/projects/mc-thebetabase[39m
      [2m[32mUI started at http://localhost:[1m51204[22m[2m/__vitest__/[39m[22m

[90mstdout[2m | tests/integration/emailContextApi.test.ts
[22m[39mâœ… NO-MOCKS enforcement active. All mock functions will throw errors.

[90mstdout[2m | tests/integration/knowledge-api-quality.test.ts
[22m[39mâœ… NO-MOCKS enforcement active. All mock functions will throw errors.

[90mstdout[2m | tests/integration/emailContext.test.ts
[22m[39mâœ… NO-MOCKS enforcement active. All mock functions will throw errors.

[90mstdout[2m | tests/integration/multi-tenant-vector-store.test.ts
[22m[39mâœ… NO-MOCKS enforcement active. All mock functions will throw errors.

 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:40:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context[2m > [22mshould ingest a single email
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:59:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context[2m > [22mshould reject email without required fields
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:80:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context[2m > [22mshould reject email without body or htmlBody
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:106:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context/batch[2m > [22mshould ingest multiple emails
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:147:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context/batch[2m > [22mshould reject non-array input
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:163:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context/batch[2m > [22mshould handle validation errors in batch
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:223:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context/search[2m > [22mshould search emails by content
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:245:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context/search[2m > [22mshould reject search without query
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:261:5[22m[2m > [22mEmail Context API Integration[2m > [22mPOST /api/email-context/search[2m > [22mshould support search filters
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:283:5[22m[2m > [22mEmail Context API Integration[2m > [22mGET /api/email-context[2m > [22mshould get email statistics
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:298:5[22m[2m > [22mEmail Context API Integration[2m > [22mDELETE /api/email-context[2m > [22mshould delete email by messageId
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:334:5[22m[2m > [22mEmail Context API Integration[2m > [22mDELETE /api/email-context[2m > [22mshould return 404 for non-existent email
 [2m[90mâ†“[39m[22m tests/integration/emailContextApi.test.ts[2m:348:5[22m[2m > [22mEmail Context API Integration[2m > [22mDELETE /api/email-context[2m > [22mshould require messageId parameter
[90mstderr[2m | tests/integration/knowledge-api-quality.test.ts[2m:28:1[22m[2m[2m > [22m[2mKnowledge API Quality
[22m[39mKnowledge API not running - skipping tests

 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:39:5[22m[2m > [22mKnowledge API Quality[2m > [22mSearch Quality[2m > [22m"What is AOMA?" returns wiki documentation, not just Jira titles[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:78:5[22m[2m > [22mKnowledge API Quality[2m > [22mSearch Quality[2m > [22mSearch returns diverse source types[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:101:5[22m[2m > [22mKnowledge API Quality[2m > [22mSearch Quality[2m > [22mSynthesis provides useful answer, not "I dont know"[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:138:5[22m[2m > [22mKnowledge API Quality[2m > [22mPerformance[2m > [22mQuery with synthesis completes in <3s[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:168:5[22m[2m > [22mKnowledge API Quality[2m > [22mPerformance[2m > [22mQuery without synthesis completes in <1.5s[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:189:5[22m[2m > [22mKnowledge API Quality[2m > [22mPerformance[2m > [22mCached queries are fast (<100ms)[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:226:5[22m[2m > [22mKnowledge API Quality[2m > [22mJira Detail Expand[2m > [22mDetail endpoint returns full data for cached tickets[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:241:5[22m[2m > [22mKnowledge API Quality[2m > [22mJira Detail Expand[2m > [22mDetail endpoint returns minimal data with Jira link for uncached tickets[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:255:5[22m[2m > [22mKnowledge API Quality[2m > [22mJira Detail Expand[2m > [22mJira results have expandable flag[32m 0[2mms[22m[39m
 [32mâœ“[39m tests/integration/knowledge-api-quality.test.ts[2m:283:5[22m[2m > [22mKnowledge API Quality[2m > [22mHealth Check[2m > [22mHealth endpoint returns service info[32m 0[2mms[22m[39m
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:33:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mDatabase Schema Verification[2m > [22mshould verify siam_vectors table exists with multi-tenant columns
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:52:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mDatabase Schema Verification[2m > [22mshould verify RPC functions exist
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:84:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mMulti-Tenant Data Operations[2m > [22mshould upsert a vector with full 3-level hierarchy
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:99:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mMulti-Tenant Data Operations[2m > [22mshould search vectors within the correct tenant
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:119:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mMulti-Tenant Data Operations[2m > [22mshould NOT find vectors from different tenants
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:134:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mMulti-Tenant Data Operations[2m > [22mshould delete vectors by source within correct tenant
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:148:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mDefault Context Constants[2m > [22mshould use DEFAULT_APP_CONTEXT correctly
 [2m[90mâ†“[39m[22m tests/integration/multi-tenant-vector-store.test.ts[2m:154:5[22m[2m > [22mMulti-Tenant Vector Store - REAL Integration Tests[2m > [22mDefault Context Constants[2m > [22mshould have SONY_MUSIC constant structure
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:75:5[22m[2m > [22mEmailContextService Integration[2m > [22mSingle email ingestion[2m > [22mshould ingest a simple email successfully
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:84:5[22m[2m > [22mEmailContextService Integration[2m > [22mSingle email ingestion[2m > [22mshould ingest an email with HTML body
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:92:5[22m[2m > [22mEmailContextService Integration[2m > [22mSingle email ingestion[2m > [22mshould handle invalid email data gracefully
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:107:5[22m[2m > [22mEmailContextService Integration[2m > [22mBatch email ingestion[2m > [22mshould ingest multiple emails in batch
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:122:5[22m[2m > [22mEmailContextService Integration[2m > [22mBatch email ingestion[2m > [22mshould handle partial batch failures gracefully
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:152:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail search[2m > [22mshould find emails by content similarity
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:163:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail search[2m > [22mshould find emails by subject
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:172:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail search[2m > [22mshould filter search by date range
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:183:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail search[2m > [22mshould filter search by participants
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:195:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail search[2m > [22mshould respect match threshold
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:208:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail search[2m > [22mshould limit search results
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:218:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail deletion[2m > [22mshould delete email by messageId
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:243:5[22m[2m > [22mEmailContextService Integration[2m > [22mEmail re-indexing[2m > [22mshould re-index an existing email
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:277:5[22m[2m > [22mEmailContextService Integration[2m > [22mStatistics[2m > [22mshould get email statistics
 [2m[90mâ†“[39m[22m tests/integration/emailContext.test.ts[2m:287:5[22m[2m > [22mEmailContextService Integration[2m > [22mError handling[2m > [22mshould handle network errors gracefully

[2m Test Files [22m [1m[32m1 passed[39m[22m[2m | [22m[33m3 skipped[39m[90m (4)[39m
[2m      Tests [22m [1m[32m10 passed[39m[22m[2m | [22m[33m36 skipped[39m[90m (46)[39m
[2m   Start at [22m 21:05:26
[2m   Duration [22m 277ms[2m (transform 216ms, setup 105ms, import 308ms, tests 33ms, environment 0ms)[22m

{"numTotalTestSuites":27,"numPassedTestSuites":27,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":46,"numPassedTests":10,"numFailedTests":0,"numPendingTests":36,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1767643526178,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["EmailContextService Integration","Single email ingestion"],"fullName":"EmailContextService Integration Single email ingestion should ingest a simple email successfully","status":"skipped","title":"should ingest a simple email successfully","failureMessages":[],"location":{"line":75,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Single email ingestion"],"fullName":"EmailContextService Integration Single email ingestion should ingest an email with HTML body","status":"skipped","title":"should ingest an email with HTML body","failureMessages":[],"location":{"line":84,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Single email ingestion"],"fullName":"EmailContextService Integration Single email ingestion should handle invalid email data gracefully","status":"skipped","title":"should handle invalid email data gracefully","failureMessages":[],"location":{"line":92,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Batch email ingestion"],"fullName":"EmailContextService Integration Batch email ingestion should ingest multiple emails in batch","status":"skipped","title":"should ingest multiple emails in batch","failureMessages":[],"location":{"line":107,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Batch email ingestion"],"fullName":"EmailContextService Integration Batch email ingestion should handle partial batch failures gracefully","status":"skipped","title":"should handle partial batch failures gracefully","failureMessages":[],"location":{"line":122,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email search"],"fullName":"EmailContextService Integration Email search should find emails by content similarity","status":"skipped","title":"should find emails by content similarity","failureMessages":[],"location":{"line":152,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email search"],"fullName":"EmailContextService Integration Email search should find emails by subject","status":"skipped","title":"should find emails by subject","failureMessages":[],"location":{"line":163,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email search"],"fullName":"EmailContextService Integration Email search should filter search by date range","status":"skipped","title":"should filter search by date range","failureMessages":[],"location":{"line":172,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email search"],"fullName":"EmailContextService Integration Email search should filter search by participants","status":"skipped","title":"should filter search by participants","failureMessages":[],"location":{"line":183,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email search"],"fullName":"EmailContextService Integration Email search should respect match threshold","status":"skipped","title":"should respect match threshold","failureMessages":[],"location":{"line":195,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email search"],"fullName":"EmailContextService Integration Email search should limit search results","status":"skipped","title":"should limit search results","failureMessages":[],"location":{"line":208,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email deletion"],"fullName":"EmailContextService Integration Email deletion should delete email by messageId","status":"skipped","title":"should delete email by messageId","failureMessages":[],"location":{"line":218,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Email re-indexing"],"fullName":"EmailContextService Integration Email re-indexing should re-index an existing email","status":"skipped","title":"should re-index an existing email","failureMessages":[],"location":{"line":243,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Statistics"],"fullName":"EmailContextService Integration Statistics should get email statistics","status":"skipped","title":"should get email statistics","failureMessages":[],"location":{"line":277,"column":5},"meta":{}},{"ancestorTitles":["EmailContextService Integration","Error handling"],"fullName":"EmailContextService Integration Error handling should handle network errors gracefully","status":"skipped","title":"should handle network errors gracefully","failureMessages":[],"location":{"line":287,"column":5},"meta":{}}],"startTime":1767643526178,"endTime":1767643526178,"status":"passed","message":"","name":"/Users/matt/Documents/projects/mc-thebetabase/tests/integration/emailContext.test.ts"},{"assertionResults":[{"ancestorTitles":["Email Context API Integration","POST /api/email-context"],"fullName":"Email Context API Integration POST /api/email-context should ingest a single email","status":"skipped","title":"should ingest a single email","failureMessages":[],"location":{"line":40,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context"],"fullName":"Email Context API Integration POST /api/email-context should reject email without required fields","status":"skipped","title":"should reject email without required fields","failureMessages":[],"location":{"line":59,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context"],"fullName":"Email Context API Integration POST /api/email-context should reject email without body or htmlBody","status":"skipped","title":"should reject email without body or htmlBody","failureMessages":[],"location":{"line":80,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context/batch"],"fullName":"Email Context API Integration POST /api/email-context/batch should ingest multiple emails","status":"skipped","title":"should ingest multiple emails","failureMessages":[],"location":{"line":106,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context/batch"],"fullName":"Email Context API Integration POST /api/email-context/batch should reject non-array input","status":"skipped","title":"should reject non-array input","failureMessages":[],"location":{"line":147,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context/batch"],"fullName":"Email Context API Integration POST /api/email-context/batch should handle validation errors in batch","status":"skipped","title":"should handle validation errors in batch","failureMessages":[],"location":{"line":163,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context/search"],"fullName":"Email Context API Integration POST /api/email-context/search should search emails by content","status":"skipped","title":"should search emails by content","failureMessages":[],"location":{"line":223,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context/search"],"fullName":"Email Context API Integration POST /api/email-context/search should reject search without query","status":"skipped","title":"should reject search without query","failureMessages":[],"location":{"line":245,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","POST /api/email-context/search"],"fullName":"Email Context API Integration POST /api/email-context/search should support search filters","status":"skipped","title":"should support search filters","failureMessages":[],"location":{"line":261,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","GET /api/email-context"],"fullName":"Email Context API Integration GET /api/email-context should get email statistics","status":"skipped","title":"should get email statistics","failureMessages":[],"location":{"line":283,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","DELETE /api/email-context"],"fullName":"Email Context API Integration DELETE /api/email-context should delete email by messageId","status":"skipped","title":"should delete email by messageId","failureMessages":[],"location":{"line":298,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","DELETE /api/email-context"],"fullName":"Email Context API Integration DELETE /api/email-context should return 404 for non-existent email","status":"skipped","title":"should return 404 for non-existent email","failureMessages":[],"location":{"line":334,"column":5},"meta":{}},{"ancestorTitles":["Email Context API Integration","DELETE /api/email-context"],"fullName":"Email Context API Integration DELETE /api/email-context should require messageId parameter","status":"skipped","title":"should require messageId parameter","failureMessages":[],"location":{"line":348,"column":5},"meta":{}}],"startTime":1767643526178,"endTime":1767643526178,"status":"passed","message":"","name":"/Users/matt/Documents/projects/mc-thebetabase/tests/integration/emailContextApi.test.ts"},{"assertionResults":[{"ancestorTitles":["Knowledge API Quality","Search Quality"],"fullName":"Knowledge API Quality Search Quality \"What is AOMA?\" returns wiki documentation, not just Jira titles","status":"passed","title":"\"What is AOMA?\" returns wiki documentation, not just Jira titles","duration":0.3818750000000364,"failureMessages":[],"location":{"line":39,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Search Quality"],"fullName":"Knowledge API Quality Search Quality Search returns diverse source types","status":"passed","title":"Search returns diverse source types","duration":0.07633399999997437,"failureMessages":[],"location":{"line":78,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Search Quality"],"fullName":"Knowledge API Quality Search Quality Synthesis provides useful answer, not \"I dont know\"","status":"passed","title":"Synthesis provides useful answer, not \"I dont know\"","duration":0.0665000000000191,"failureMessages":[],"location":{"line":101,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Performance"],"fullName":"Knowledge API Quality Performance Query with synthesis completes in <3s","status":"passed","title":"Query with synthesis completes in <3s","duration":0.06295799999998053,"failureMessages":[],"location":{"line":138,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Performance"],"fullName":"Knowledge API Quality Performance Query without synthesis completes in <1.5s","status":"passed","title":"Query without synthesis completes in <1.5s","duration":0.06550000000004275,"failureMessages":[],"location":{"line":168,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Performance"],"fullName":"Knowledge API Quality Performance Cached queries are fast (<100ms)","status":"passed","title":"Cached queries are fast (<100ms)","duration":0.05366700000001856,"failureMessages":[],"location":{"line":189,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Jira Detail Expand"],"fullName":"Knowledge API Quality Jira Detail Expand Detail endpoint returns full data for cached tickets","status":"passed","title":"Detail endpoint returns full data for cached tickets","duration":0.04487499999993361,"failureMessages":[],"location":{"line":226,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Jira Detail Expand"],"fullName":"Knowledge API Quality Jira Detail Expand Detail endpoint returns minimal data with Jira link for uncached tickets","status":"passed","title":"Detail endpoint returns minimal data with Jira link for uncached tickets","duration":0.044125000000008185,"failureMessages":[],"location":{"line":241,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Jira Detail Expand"],"fullName":"Knowledge API Quality Jira Detail Expand Jira results have expandable flag","status":"passed","title":"Jira results have expandable flag","duration":0.05254100000001927,"failureMessages":[],"location":{"line":255,"column":5},"meta":{}},{"ancestorTitles":["Knowledge API Quality","Health Check"],"fullName":"Knowledge API Quality Health Check Health endpoint returns service info","status":"passed","title":"Health endpoint returns service info","duration":0.05483399999991434,"failureMessages":[],"location":{"line":283,"column":5},"meta":{}}],"startTime":1767643526390,"endTime":1767643526391.0764,"status":"passed","message":"","name":"/Users/matt/Documents/projects/mc-thebetabase/tests/integration/knowledge-api-quality.test.ts"},{"assertionResults":[{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Database Schema Verification"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Database Schema Verification should verify siam_vectors table exists with multi-tenant columns","status":"skipped","title":"should verify siam_vectors table exists with multi-tenant columns","failureMessages":[],"location":{"line":33,"column":5},"meta":{}},{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Database Schema Verification"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Database Schema Verification should verify RPC functions exist","status":"skipped","title":"should verify RPC functions exist","failureMessages":[],"location":{"line":52,"column":5},"meta":{}},{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Multi-Tenant Data Operations"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Multi-Tenant Data Operations should upsert a vector with full 3-level hierarchy","status":"skipped","title":"should upsert a vector with full 3-level hierarchy","failureMessages":[],"location":{"line":84,"column":5},"meta":{}},{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Multi-Tenant Data Operations"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Multi-Tenant Data Operations should search vectors within the correct tenant","status":"skipped","title":"should search vectors within the correct tenant","failureMessages":[],"location":{"line":99,"column":5},"meta":{}},{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Multi-Tenant Data Operations"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Multi-Tenant Data Operations should NOT find vectors from different tenants","status":"skipped","title":"should NOT find vectors from different tenants","failureMessages":[],"location":{"line":119,"column":5},"meta":{}},{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Multi-Tenant Data Operations"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Multi-Tenant Data Operations should delete vectors by source within correct tenant","status":"skipped","title":"should delete vectors by source within correct tenant","failureMessages":[],"location":{"line":134,"column":5},"meta":{}},{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Default Context Constants"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Default Context Constants should use DEFAULT_APP_CONTEXT correctly","status":"skipped","title":"should use DEFAULT_APP_CONTEXT correctly","failureMessages":[],"location":{"line":148,"column":5},"meta":{}},{"ancestorTitles":["Multi-Tenant Vector Store - REAL Integration Tests","Default Context Constants"],"fullName":"Multi-Tenant Vector Store - REAL Integration Tests Default Context Constants should have SONY_MUSIC constant structure","status":"skipped","title":"should have SONY_MUSIC constant structure","failureMessages":[],"location":{"line":154,"column":5},"meta":{}}],"startTime":1767643526178,"endTime":1767643526178,"status":"passed","message":"","name":"/Users/matt/Documents/projects/mc-thebetabase/tests/integration/multi-tenant-vector-store.test.ts"}]}
[1m[7m[35m HTML [39m[27m[22m [35mReport is generated[39m
[2m       You can run [22m[1mnpx vite preview --outDir html[22m[2m to see the test results.[22m
